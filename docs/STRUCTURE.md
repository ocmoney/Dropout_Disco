# Hacker News Upvote Prediction - Project Structure

This document provides a detailed breakdown of each major directory and file in the project.

---

### üåê `app/` - FastAPI Prediction Service (Future Work)

*   **Purpose:** This directory will contain the code for the web service API that exposes the trained Hacker News upvote prediction model. It allows users or other services to send a post title and receive a predicted score.
*   **Status:** Currently contains placeholder files. Development will occur in a later phase.
*   **Contents:**
    *   `__init__.py`: Makes `app` a Python package.
    *   `main.py`: Defines the FastAPI application instance, sets up routes (endpoints), and potentially includes middleware or configuration specific to the API. Will likely define endpoints like `/predict`, `/health`, etc.
    *   `predictor.py`: Holds the core prediction logic. This module will be responsible for loading the trained regression model and the necessary word embeddings/vocabulary, processing input titles, and generating the score prediction.

---

### ‚öôÔ∏è `config.yaml` - Central Configuration

*   **Purpose:** Provides a single, human-readable file to manage all key configuration parameters for the project. This includes file paths, model hyperparameters (embedding size, window size), training settings (epochs, batch size, learning rate), and potentially logging levels.
*   **Benefit:** Makes experiments easier to reproduce and modify by changing values here instead of hardcoding them in scripts. Allows command-line arguments in `train_word2vec.py` to override these defaults.

---

### üìä `data/` - Input Datasets

*   **Purpose:** Stores the raw, immutable datasets used for training the models. It should not contain processed data or intermediate files.
*   **Contents:**
    *   `text8.txt`: The primary corpus (cleaned Wikipedia text) used for training the Word2Vec embeddings in Phase 1. Other datasets (like the actual Hacker News data for the regression phase) might be added here later.

---

### üê≥ `Dockerfile` - Containerization Recipe

*   **Purpose:** Contains instructions for building a Docker container image. This is primarily intended for packaging the `app/` service for deployment, ensuring all dependencies and the runtime environment are consistent.
*   **Status:** Likely a placeholder or basic template for now. Will be refined when the prediction service is ready for deployment.

---

### üìÑ `docs/` - Project Documentation

*   **Purpose:** Houses supplementary documentation beyond the main README. This includes development plans, design notes, comparisons, or detailed explanations like this structure document.
*   **Contents:**
    *   `cbow_vs_sgm.md`: Notes comparing different Word2Vec architectures.
    *   `dev_plan.md`: Outline of project phases and tasks.
    *   `STRUCTURE.md`: This detailed explanation of the project layout.

---

### üìù `logs/` - Runtime Log Files

*   **Purpose:** Stores log files generated during the execution of scripts (like `train_word2vec.py`) or the FastAPI application (when running). Captures informational messages, warnings, errors, and debugging output as configured in `utils/logging.py`.
*   **Git Status:** **Should be listed in `.gitignore`** to prevent committing large, frequently changing log files to the repository. Log aggregation tools or viewing logs on deployment platforms are used in production.
*   **Contents:**
    *   `dropout_disco.log`: The log file configured in `utils/logging.py`.

---

### üß† `models/` - Saved Model Artifacts

*   **Purpose:** Stores the output files generated by the training scripts ‚Äì the tangible results of your model training efforts.
*   **Git Status:** **Should be listed in `.gitignore`**. Model files can be large, and they are better tracked as *artifacts* of specific runs using tools like W&B or stored in dedicated model registries/storage (like S3, GCS).
*   **Contents:**
    *   `word2vec/`: Subdirectory for Word2Vec related artifacts.
        *   `text8_vocab_*.json`: Saved vocabulary files, named based on the parameters used to generate them (e.g., number of words, min frequency).
        *   `CBOW_D..._BS.../`: Run-specific subdirectories named after the key hyperparameters of a training run.
            *   `model_state.pth`: The saved PyTorch state dictionary for the trained CBOW model for that specific run. Contains the learned embeddings and linear layer weights.
            *   `cbow_training_losses.json`: A JSON file storing the average training loss for each epoch of that run.
            *   `cbow_training_loss.png`: A plot visualizing the training loss curve saved for that run.
    *   `regression/`: Placeholder for artifacts from the regression model training (Phase 2).

---

### üìì `notebooks/` - Exploration & Evaluation

*   **Purpose:** Contains Jupyter notebooks used for interactive data exploration (EDA), developing and testing model components, evaluating results, and creating visualizations. They are essential for the research and development process but are not typically part of the deployable application code.
*   **Contents:**
    *   `eda.ipynb`: Notebook containing the Exploratory Data Analysis performed on the Hacker News data.
    *   `03_evaluate_word2vec.ipynb`: Notebook specifically for loading a trained Word2Vec model and its vocabulary to perform intrinsic evaluations (nearest neighbors, analogies).

---

### üêç `src/` - Core Source Code Modules

*   **Purpose:** The main library of the project. Contains reusable Python modules defining models, data handling logic, training procedures, etc., designed to be imported by scripts or the application.
*   **Contents:**
    *   `__init__.py`: Marks `src` as a Python package.
    *   `word2vec/`: Sub-package containing all modules for the Word2Vec implementation.
        *   `__init__.py`: Marks `word2vec` as a sub-package.
        *   `vocabulary.py`: Defines the `Vocabulary` class.
        *   `dataset.py`: Defines `create_cbow_pairs` and `CBOWDataset`.
        *   `model.py`: Defines the `CBOW` model class.
        *   `trainer.py`: Defines `train_epoch` and `train_model`.
    *   `regression/`: Placeholder sub-package for the Phase 2 regression model code.

---

### ‚ñ∂Ô∏è `train_word2vec.py` - Training Script

*   **Purpose:** The primary executable script located in the project root to orchestrate the end-to-end process of training the Word2Vec model. It reads configuration (`config.yaml`), parses command-line arguments, loads data, uses modules from `src/word2vec` and `utils` to build the vocabulary, prepare the dataset, initialize the model/optimizer/loss, run the training loop, and save the resulting artifacts. It also handles W&B initialization and logging.

---

### üõ†Ô∏è `utils/` - Utility Modules

*   **Purpose:** Contains shared utility functions and classes used across different parts of the project (e.g., by training scripts, source modules, potentially the app later).
*   **Contents:**
    *   `__init__.py`: Marks `utils` as a Python package, potentially exposing key functions like `logger` and `get_device`.
    *   `logging.py`: Configures the project-wide logging system.
    *   `device_setup.py`: Contains the `get_device` function to select and log the appropriate PyTorch device (CPU/MPS).

---

### ‚òÅÔ∏è `wandb/` - Weights & Biases Local Cache

*   **Purpose:** Automatically generated by the `wandb` library to store local copies of logs, metadata, code snapshots, and synchronization status for runs before (or while) sending data to the W&B cloud service.
*   **Git Status:** **Must be listed in `.gitignore`**.
*   **Contents:**
    *   `wandb/`: Directory containing run-specific data.
    *   `wandb-metadata.json`: Metadata about the W&B run.
    *   `wandb-metadata.jsonl`: JSON Lines format of the metadata.
    *   `run-*.json`: JSON files containing run data.